{"version":3,"file":"blocks/navigation-side-menu/frontend.js","mappings":"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","sources":["webpack://foodblog16-plus/./src/blocks/navigation-side-menu/frontend.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n  // handle side menu opening and closing\r\n  //// get menu element and elements for opening/closing\r\n  const sideMenuEl = document.querySelector(\".fblgstp-side-menu-container\");\r\n  const sideMenuOverlay = document.querySelector(\".fblgstp-side-menu-overlay\");\r\n  const sideMenuBtn = document.querySelectorAll(\r\n    \".fblgstp-side-menu-button, .fblgstp-side-menu-overlay\"\r\n  );\r\n  // attach event-listeners for opening/closing\r\n  sideMenuBtn.forEach((el) => {\r\n    el.addEventListener(\"click\", (event) => {\r\n      sideMenuEl.classList.toggle(\"fblgstp-side-menu-open\");\r\n      sideMenuOverlay.classList.toggle(\"fblgstp-side-menu-open\");\r\n    });\r\n  });\r\n\r\n  // handle authentication modal opening and closing\r\n  //// get modal element and elements for opening/closing the modal\r\n  const modalEl = document.querySelector(\".fblgstp-authentication-modal\");\r\n  const modalOpenBtn = document.querySelectorAll(\".fblgstp-open-modal\");\r\n  const modalCloseBtn = document.querySelectorAll(\r\n    \".fblgstp-modal-close-button, .fblgstp-modal-overlay\"\r\n  );\r\n  //// attach event-listeners to open button/elements\r\n  modalOpenBtn.forEach((el) => {\r\n    el.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      modalEl.classList.add(\"fblgstp-modal-show\");\r\n    });\r\n  });\r\n  //// attach event-listeners to close button\r\n  modalCloseBtn.forEach((el) => {\r\n    el.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      modalEl.classList.remove(\"fblgstp-modal-show\");\r\n    });\r\n  });\r\n\r\n  // handle tab switching\r\n  //// get tab links and sign-in/-up elements\r\n  const tabEl = document.querySelectorAll(\".fblgstp-tabs a\");\r\n  const signInFormEl = document.querySelector(\"#signin-tab\");\r\n  const signUpFormEl = document.querySelector(\"#signup-tab\");\r\n  //// attach event listeners to tabs\r\n  tabEl.forEach((tab) => {\r\n    tab.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      // remove 'fblgstp-active-tab' class from all tabs\r\n      tabEl.forEach((currentTab) =>\r\n        currentTab.classList.remove(\"fblgstp-active-tab\")\r\n      );\r\n      event.currentTarget.classList.add(\"fblgstp-active-tab\");\r\n      // add 'fblgstp-active-tab' class to current tab\r\n      const activeTab = event.currentTarget.getAttribute(\"href\");\r\n      // show/hide appropriate forms\r\n      if (activeTab === \"#signin-tab\") {\r\n        signInFormEl.style.display = \"block\";\r\n        signUpFormEl.style.display = \"none\";\r\n      } else {\r\n        signInFormEl.style.display = \"none\";\r\n        signUpFormEl.style.display = \"block\";\r\n      }\r\n    });\r\n  });\r\n\r\n  // handle sign-up from submission\r\n  signUpFormEl.addEventListener(\"submit\", async (event) => {\r\n    event.preventDefault();\r\n    // disable input while handling submission\r\n    const signUpFieldset = signUpFormEl.querySelector(\"fieldset\");\r\n    signUpFieldset.setAttribute(\"disabled\", true);\r\n    // render status message\r\n    const signUpStatus = signUpFormEl.querySelector(\"#signup-status\");\r\n    signUpStatus.innerHTML = `\r\n      <div class=\"fblgstp-modal-status fblgstp-modal-status-info\">\r\n        Please wait! We are creating your account.\r\n      </div>\r\n    `;\r\n    // get data from frontend\r\n    const formData = {\r\n      username: signUpFormEl.querySelector(\"#su-name\").value,\r\n      email: signUpFormEl.querySelector(\"#su-email\").value,\r\n      password: signUpFormEl.querySelector(\"#su-password\").value,\r\n    };\r\n    // send request to RestApi\r\n    const response = await fetch(fblgstp_auth_rest.signup, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(formData),\r\n    });\r\n    const responseJSON = await response.json();\r\n    // check if sign-up was successful\r\n    if (responseJSON.status === 2) {\r\n      signUpStatus.innerHTML = `\r\n        <div class=\"fblgstp-modal-status fblgstp-modal-status-success\">\r\n          Success! Your account has been created.\r\n        </div>\r\n      `;\r\n      location.reload();\r\n    } else {\r\n      signUpFieldset.removeAttribute(\"disabled\");\r\n      signUpStatus.innerHTML = `\r\n        <div class=\"fblgstp-modal-status fblgstp-modal-status-danger\">\r\n          Unable to create account! Please try again.\r\n        </div>\r\n      `;\r\n    }\r\n  });\r\n\r\n  // handle sign-in form submission\r\n  signInFormEl.addEventListener(\"submit\", async (event) => {\r\n    event.preventDefault();\r\n    // disable input while handling submission\r\n    const signInFieldset = signInFormEl.querySelector(\"fieldset\");\r\n    signInFieldset.setAttribute(\"disabled\", true);\r\n    // render status message\r\n    const signInStatus = signInFormEl.querySelector(\"#signin-status\");\r\n    signInStatus.innerHTML = `\r\n      <div class=\"fblgstp-modal-status fblgstp-modal-status-info\">\r\n        Please wait! Attempting login.\r\n      </div>\r\n    `;\r\n    // get data from frontend\r\n    const formData = {\r\n      user_login: signInFormEl.querySelector(\"#si-email\").value,\r\n      password: signInFormEl.querySelector(\"#si-password\").value,\r\n    };\r\n    // send request to Rest API\r\n    const response = await fetch(fblgstp_auth_rest.signin, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(formData),\r\n    });\r\n    // check if sign-in was successful\r\n    const responseJSON = await response.json();\r\n    if (responseJSON.status === 2) {\r\n      signInStatus.innerHTML = `\r\n        <div class=\"fblgstp-modal-status fblgstp-modal-status-success\">\r\n          Success! Your are logged in.\r\n        </div>\r\n      `;\r\n      location.reload();\r\n    } else {\r\n      signInFieldset.removeAttribute(\"disabled\");\r\n      signInStatus.innerHTML = `\r\n        <div class=\"fblgstp-modal-status fblgstp-modal-status-danger\">\r\n          Unable to login! Please try again.\r\n        </div>\r\n      `;\r\n    }\r\n  });\r\n});\r\n"],"names":["document","addEventListener","sideMenuEl","querySelector","sideMenuOverlay","sideMenuBtn","querySelectorAll","forEach","el","event","classList","toggle","modalEl","modalOpenBtn","modalCloseBtn","preventDefault","add","remove","tabEl","signInFormEl","signUpFormEl","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signUpFieldset","setAttribute","signUpStatus","innerHTML","formData","username","value","email","password","response","fetch","fblgstp_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute","signInFieldset","signInStatus","user_login","signin"],"sourceRoot":""}