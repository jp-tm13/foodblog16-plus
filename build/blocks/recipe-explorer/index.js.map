{"version":3,"file":"blocks/recipe-explorer/index.js","mappings":"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","sources":["webpack://foodblog16-plus/./src/blocks/recipe-explorer/main.css","webpack://foodblog16-plus/./src/icons/explorer.js","webpack://foodblog16-plus/external window [\"wp\",\"blockEditor\"]","webpack://foodblog16-plus/external window [\"wp\",\"blocks\"]","webpack://foodblog16-plus/external window [\"wp\",\"components\"]","webpack://foodblog16-plus/external window [\"wp\",\"data\"]","webpack://foodblog16-plus/external window [\"wp\",\"element\"]","webpack://foodblog16-plus/external window [\"wp\",\"i18n\"]","webpack://foodblog16-plus/external window \"ReactJSXRuntime\"","webpack://foodblog16-plus/webpack/bootstrap","webpack://foodblog16-plus/webpack/runtime/compat get default export","webpack://foodblog16-plus/webpack/runtime/define property getters","webpack://foodblog16-plus/webpack/runtime/hasOwnProperty shorthand","webpack://foodblog16-plus/webpack/runtime/make namespace object","webpack://foodblog16-plus/./src/blocks/recipe-explorer/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","const explorer = {};\r\n\r\nexplorer.primary = (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"16\"\r\n    height=\"16\"\r\n    fill=\"currentColor\"\r\n    class=\"bi bi-bicycle\"\r\n    viewBox=\"0 0 16 16\"\r\n  >\r\n    <path d=\"M4 4.5a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1v.5h4.14l.386-1.158A.5.5 0 0 1 11 4h1a.5.5 0 0 1 0 1h-.64l-.311.935.807 1.29a3 3 0 1 1-.848.53l-.508-.812-2.076 3.322A.5.5 0 0 1 8 10.5H5.959a3 3 0 1 1-1.815-3.274L5 5.856V5h-.5a.5.5 0 0 1-.5-.5m1.5 2.443-.508.814c.5.444.85 1.054.967 1.743h1.139zM8 9.057 9.598 6.5H6.402zM4.937 9.5a2 2 0 0 0-.487-.877l-.548.877zM3.603 8.092A2 2 0 1 0 4.937 10.5H3a.5.5 0 0 1-.424-.765zm7.947.53a2 2 0 1 0 .848-.53l1.026 1.643a.5.5 0 1 1-.848.53z\" />\r\n  </svg>\r\n);\r\n\r\nexport default explorer;\r\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// wordpress dependencies\r\nimport { registerBlockType } from \"@wordpress/blocks\";\r\nimport {\r\n  useBlockProps,\r\n  InspectorControls,\r\n  RichText,\r\n} from \"@wordpress/block-editor\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { PanelBody, QueryControls } from \"@wordpress/components\";\r\nimport { select, useSelect } from \"@wordpress/data\";\r\nimport { RawHTML } from \"@wordpress/element\";\r\n\r\n// internal dependencies\r\nimport block from \"./block.json\";\r\nimport explorer from \"../../icons/explorer\";\r\nimport \"./main.css\";\r\n\r\nregisterBlockType(block.name, {\r\n  icon: explorer.primary,\r\n  edit({ attributes, setAttributes }) {\r\n    // get attributes\r\n    const { title, count } = attributes;\r\n    const blockProps = useBlockProps();\r\n\r\n    // get all possible course terms\r\n    const terms = useSelect((select) => {\r\n      return select(\"core\").getEntityRecords(\"taxonomy\", \"fblgstp_course\", {\r\n        per_page: -1,\r\n      });\r\n    });\r\n\r\n    // check if default term is among them\r\n    const current_course = terms?.find((term) => {\r\n      return term.slug === \"dinner\";\r\n    });\r\n\r\n    // get 'count' amount of top rated post from the given course term\r\n    const posts = useSelect(\r\n      (select) => {\r\n        return select(\"core\").getEntityRecords(\"postType\", \"fblgstp_recipe\", {\r\n          per_page: count,\r\n          _embed: true,\r\n          fblgstp_course: current_course?.id,\r\n          order: \"desc\",\r\n          orderByRating: 1,\r\n        });\r\n      },\r\n      [count, current_course]\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <div className=\"wp-block-foodblog16-plus-recipe-explorer\">\r\n          <div className=\"fblgstp-container fblgstp-margin-bot-sm\">\r\n            <div {...blockProps}>\r\n              <RichText\r\n                tagName=\"h2\"\r\n                value={title}\r\n                withoutInteractiveFormatting\r\n                onChange={(title) => setAttributes({ title })}\r\n                placeholder={__(\"Title\", \"foodblog16-plus\")}\r\n              />\r\n            </div>\r\n            <nav>\r\n              <ul className=\"fblgstp-list-nav-hero\">\r\n                <li>\r\n                  <a\r\n                    href=\"#dinner\"\r\n                    className=\"fblgstp-link-nav-hero fblgstp-active-nav-link\"\r\n                  >\r\n                    {__(\"Dinner\", \"foodblog16-plus\")}\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#supper\" className=\"fblgstp-link-nav-hero\">\r\n                    {__(\"Supper\", \"foodblog16-plus\")}\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#breakfast\" className=\"fblgstp-link-nav-hero\">\r\n                    {__(\"Breakfast\", \"foodblog16-plus\")}\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#dessert\" className=\"fblgstp-link-nav-hero\">\r\n                    {__(\"Dessert\", \"foodblog16-plus\")}\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n          <div className=\"fblgstp-container-posts fblgstp-grid fblgstp-grid-4-cols\">\r\n            {posts?.map((post) => {\r\n              const featuredImage =\r\n                post._embedded &&\r\n                post._embedded[\"wp:featuredmedia\"] &&\r\n                post._embedded[\"wp:featuredmedia\"].length > 0 &&\r\n                post._embedded[\"wp:featuredmedia\"][0];\r\n\r\n              return (\r\n                <div className=\"fblgstp-recipe\">\r\n                  <a className=\"fblgstp-recipe-link\" href={post.link}>\r\n                    {featuredImage && (\r\n                      <img\r\n                        src={\r\n                          featuredImage.media_details.sizes.medium.source_url\r\n                        }\r\n                        alt={featuredImage.alt_text}\r\n                        className=\"fblgstp-recipe-image\"\r\n                      />\r\n                    )}\r\n                    <div className=\"fblgstp-recipe-content\">\r\n                      <p className=\"fblgstp-recipe-title\">\r\n                        <RawHTML>{post.title.rendered}</RawHTML>\r\n                      </p>\r\n                      <div className=\"fblgstp-recipe-rating\">\r\n                        <i className=\"bi bi-star-fill\"></i>\r\n                        <span>{post.meta.fblgstp_recipe_rating}</span>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  },\r\n});\r\n"],"names":["explorer","primary","_jsx","xmlns","width","height","fill","class","viewBox","children","d","registerBlockType","useBlockProps","InspectorControls","RichText","__","PanelBody","QueryControls","select","useSelect","RawHTML","block","jsx","jsxs","_jsxs","Fragment","_Fragment","name","icon","edit","attributes","setAttributes","title","count","blockProps","terms","getEntityRecords","per_page","current_course","find","term","slug","posts","_embed","fblgstp_course","id","order","orderByRating","className","tagName","value","withoutInteractiveFormatting","onChange","placeholder","href","map","post","featuredImage","_embedded","length","link","src","media_details","sizes","medium","source_url","alt","alt_text","rendered","meta","fblgstp_recipe_rating"],"sourceRoot":""}